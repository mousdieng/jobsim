<div class="max-w-6xl mx-auto py-4">
  <h1 class="text-4xl font-extrabold text-gray-900 mb-2">Explore Job Simulations</h1>
  <p class="text-xl text-gray-600 mb-8">Practice roles at fictional Senegalese companies and build your portfolio.</p>

  <!-- Filter Buttons -->
  <div class="flex flex-wrap gap-3 mb-8 border-b pb-4">
    <button
      *ngFor="let cat of categories"
      (click)="setFilter(cat)"
      [ngClass]="{
        'bg-green-600 text-white shadow-lg': filter() === cat,
        'bg-gray-100 text-gray-700 hover:bg-green-50': filter() !== cat
      }"
      class="px-4 py-2 rounded-full font-medium transition duration-200 text-sm"
    >
      {{ cat === 'All' ? 'All Roles' : cat }}
    </button>
  </div>

  <!-- Simulation Cards Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div
      *ngFor="let sim of filteredSimulations()"
      class="bg-white p-6 rounded-xl shadow-lg border border-gray-100 flex flex-col justify-between hover:shadow-xl transition duration-300"
    >
      <div>
        <div class="flex justify-between items-start mb-1">
          <div class="flex items-center space-x-2 shrink-0">
            <span
              *ngIf="isNew(sim.datePosted)"
              class="px-2 py-0.5 text-xs font-bold rounded-full bg-red-500 text-white shadow-md"
            >
              NEW
            </span>
            <app-status-tag [progress]="sim.progress"></app-status-tag>
          </div>
          <!-- Difficulty Tag -->
          <span
            [ngClass]="getDifficultyColor(sim.difficulty)"
            class="text-xs border-2 border-current px-2 py-0.5 rounded-full font-semibold"
          >
            {{ sim.difficulty }}
          </span>
        </div>

        <h2 class="text-xl font-bold text-gray-900 leading-snug mt-1">{{ sim.title }}</h2>
        <p class="text-sm font-medium text-indigo-600 mb-3">{{ sim.companyName }}</p>

        <p class="text-sm text-gray-700 mb-4 h-12 overflow-hidden">{{ sim.companyDescription }}</p>

        <div class="space-y-1 mb-4 text-xs text-gray-600">
          <p class="flex items-center">
            <!-- Clock icon -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5 text-blue-500" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l3 3a1 1 0 001.414-1.414L11 9.586V6z" clip-rule="evenodd" />
            </svg>
            <strong>Time Est.:</strong> {{ sim.timeEstimate }}
          </p>
          <p class="flex items-center">
            <!-- User icon -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5 text-green-500" viewBox="0 0 20 20" fill="currentColor">
              <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.972 5.972 0 004 15v3H1v-3a3.005 3.005 0 013.75-2.906z" />
            </svg>
            <strong>Applicants:</strong> <span class="font-semibold text-gray-800 ml-1">{{ sim.applicantsCount }}</span>
          </p>
          <p class="text-xs italic text-gray-500 mt-2 h-4 overflow-hidden">{{ sim.workEnvironment }}</p>
        </div>
      </div>

      <button
        (click)="onSelectSimulation(sim)"
        class="w-full mt-4 bg-indigo-600 text-white font-semibold py-2.5 rounded-lg hover:bg-indigo-700 transition"
      >
        {{ sim.progress === 'Completed' ? 'View Results' : 'Start Project' }}
      </button>
    </div>
  </div>

  <p *ngIf="filteredSimulations().length === 0" class="text-center text-gray-500 mt-10 text-lg">
    No simulations found in this category. Try another filter!
  </p>
</div>
